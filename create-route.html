<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Route</title>
    <link rel="stylesheet" href="styles/create-route.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/language-switcher.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
  <header>
    <div class="inner-container">
      <div class="header-content">
        <div class="logo">
          <a href="europe.html">
            <img src="logo2.png" alt="Travel Logo">
          </a>
        </div>
        
        <div class="search-filter-block">
          <div class="search-container">
            <input type="text" class="search-bar" placeholder="Search destinations...">
            <button class="search-button">
              <span class="icon-search"></span>
            </button>
          </div>
          
          <div class="filter-button">
            <span class="icon-filter"></span>
            <span>Фильтры</span>
          </div>
        </div>
        
        <div class="header-controls">
          <!-- Language Switcher Trigger -->
          <div class="language-switcher">
            <button class="language-button" id="languageButton">
              <span class="language-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <line x1="2" y1="12" x2="22" y2="12"></line>
                  <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                </svg>
              </span>
              <span class="language-code">RU</span>
            </button>
            <!-- Языковое меню будет загружено динамически -->
          </div>
          
          <!-- User Menu -->
          <div class="user-section">
            <button class="user-button" id="userButton">
              <div class="hamburger-icon">
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
              </div>
              <div class="user-avatar">
                <!-- Red circle avatar placeholder -->
              </div>
            </button>
            
            <div class="user-menu" id="userMenu">
              <!-- Меню пользователя будет загружено из user-menu.js -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="main-content">
    <div class="container">
      <div class="page-header">
        <div class="header-container">
          <h1>Create New Route</h1>
          <div class="route-progress-steps">
            <div class="route-step active">
              <div class="route-step-number">1</div>
              <div class="route-step-label">Information</div>
            </div>
            <div class="route-step-line"></div>
            <div class="route-step">
              <div class="route-step-number">2</div>
              <div class="route-step-label">Points</div>
            </div>
            <div class="route-step-line"></div>
            <div class="route-step">
              <div class="route-step-number">3</div>
              <div class="route-step-label">Coordinates</div>
            </div>
          </div>
        </div>
      </div>

      <form id="route-info-form">
        <!-- Step 1: Route Info -->
        <div class="route-step-content" id="step1">
          <!-- Card 1: Basic Information -->
          <div class="route-card">
            <div class="route-card-header">
              <h2>Basic Information</h2>
            </div>
            
            <div class="route-form-group">
              <label class="route-label" for="route-name">Route Name <span class="route-required">*</span></label>
              <input class="route-input" type="text" id="route-name" placeholder="Example: 7-day Iceland route" required>
            </div>
            
            <div class="route-form-group">
              <label class="route-label" for="location-search">Search Location</label>
              <div class="route-search-input">
                <i class="fas fa-search"></i>
                <input class="route-input" type="text" id="location-search" placeholder="Search for locations...">
              </div>
            </div>
            
            <div class="route-form-group">
              <label class="route-label" for="description">Route Description <span class="route-required">*</span></label>
              <textarea class="route-textarea" id="description" rows="4" placeholder="Describe in detail what your route includes" required></textarea>
            </div>
            
            <div class="route-form-group">
              <label class="route-label">Add Photos (up to 5)</label>
              <div class="route-photo-gallery">
                <button type="button" class="route-add-photo-circle" id="add-photo-btn">
                  <i class="fas fa-plus"></i>
                </button>
                <div class="route-photo-cells">
                  <div class="route-photo-cell empty"></div>
                  <div class="route-photo-cell empty"></div>
                  <div class="route-photo-cell empty"></div>
                  <div class="route-photo-cell empty"></div>
                  <div class="route-photo-cell empty"></div>
                </div>
                <input type="file" id="photo-upload" accept="image/*" multiple style="display: none;">
              </div>
            </div>
          </div>

          <!-- Card 2: Route Details -->
          <div class="route-card">
            <div class="route-card-header">
              <h2>Route Details</h2>
            </div>
            
            <div class="route-form-group">
              <label class="route-label">Difficulty</label>
              <div class="route-button-group">
                <button type="button" class="route-toggle-btn route-difficulty-btn" data-value="easy">Easy</button>
                <button type="button" class="route-toggle-btn route-difficulty-btn" data-value="medium">Medium</button>
                <button type="button" class="route-toggle-btn route-difficulty-btn" data-value="hard">Hard</button>
              </div>
              <input type="hidden" id="difficulty-value" value="">
            </div>

            <div class="route-form-group">
              <label class="route-label">Duration</label>
              <div class="route-duration-input">
                <input class="route-input route-duration-number" type="number" id="duration-value" min="1" placeholder="Value">
                <div class="route-button-group">
                  <button type="button" class="route-toggle-btn" data-value="hours">
                    <i class="far fa-clock"></i> Hours
                  </button>
                  <button type="button" class="route-toggle-btn" data-value="days">
                    <i class="far fa-calendar"></i> Days
                  </button>
                </div>
              </div>
              <div class="route-auto-duration">
                <label class="route-switch">
                  <input type="checkbox" id="auto-duration-toggle">
                  <span class="route-switch-slider"></span>
                </label>
                <span class="route-auto-duration-label">Set automatically based on points</span>
              </div>
              <input type="hidden" id="duration-unit-value" value="">
            </div>

            <div class="route-form-group">
              <label class="route-label">Route Type</label>
              <div class="route-type-buttons">
                <button type="button" class="route-type-btn" data-value="hiking">
                  <i class="fas fa-hiking"></i>
                  <span>Hiking</span>
                </button>
                <button type="button" class="route-type-btn" data-value="on-foot">
                  <i class="fas fa-walking"></i>
                  <span>On Foot</span>
                </button>
                <button type="button" class="route-type-btn" data-value="cycling">
                  <i class="fas fa-bicycle"></i>
                  <span>Cycling</span>
                </button>
                <button type="button" class="route-type-btn" data-value="road-trip">
                  <i class="fas fa-car"></i>
                  <span>Road Trip</span>
                </button>
                <button type="button" class="route-type-btn" data-value="motorhome">
                  <i class="fas fa-caravan"></i>
                  <span>Motorhome</span>
                </button>
                <button type="button" class="route-type-btn" data-value="guidebook">
                  <i class="fas fa-book"></i>
                  <span>Guidebook</span>
                </button>
              </div>
              <input type="hidden" id="route-type-value" value="">
            </div>
          </div>

          <!-- Card 3: Pricing -->
          <div class="route-card">
            <div class="route-card-header">
              <h2>Pricing</h2>
            </div>
            
            <div class="route-multi-currency-container">
              <div class="route-form-group">
                <label class="route-label" for="price-usd">Price in USD ($)</label>
                <div class="route-currency-input">
                  <span class="currency-symbol">$</span>
                  <input class="route-input" type="number" id="price-usd" min="0" step="0.01" placeholder="0.00">
                </div>
              </div>
              
              <div class="route-form-group">
                <label class="route-label" for="price-eur">Price in EUR (€)</label>
                <div class="route-currency-input">
                  <span class="currency-symbol">€</span>
                  <input class="route-input" type="number" id="price-eur" min="0" step="0.01" placeholder="0.00">
                </div>
              </div>
              
              <div class="route-form-group">
                <label class="route-label" for="price-cny">Price in CNY (¥)</label>
                <div class="route-currency-input">
                  <span class="currency-symbol">¥</span>
                  <input class="route-input" type="number" id="price-cny" min="0" step="0.01" placeholder="0.00">
                </div>
              </div>
              
              <div class="route-form-group">
                <label class="route-label" for="price-uah">Price in UAH (₴)</label>
                <div class="route-currency-input">
                  <span class="currency-symbol">₴</span>
                  <input class="route-input" type="number" id="price-uah" min="0" step="0.01" placeholder="0.00">
                </div>
              </div>
              
              <div class="route-form-group">
                <label class="route-label" for="price-rub">Price in RUB (₽)</label>
                <div class="route-currency-input">
                  <span class="currency-symbol">₽</span>
                  <input class="route-input" type="number" id="price-rub" min="0" step="0.01" placeholder="0.00">
                </div>
              </div>
            </div>
            
            <div class="route-form-group">
              <label class="route-label">Available by Subscription</label>
              <div class="route-subscription-toggle">
                <label class="route-switch">
                  <input type="checkbox" id="subscription-toggle">
                  <span class="route-switch-slider"></span>
                </label>
                <span class="route-subscription-label">Require subscription to access</span>
              </div>
            </div>
          </div>

          <div class="route-form-actions">
            <button type="submit" class="route-primary-btn">Save and Continue</button>
          </div>
        </div>

        <!-- Step 2: Points -->
        <div class="route-step-content hidden" id="step2">
          <div class="route-card">
            <div class="route-card-header">
              <h2>Route Points</h2>
              <span class="route-hint">Add at least 5 points to your route</span>
            </div>

            <div id="points-container"></div>

            <button type="button" class="route-outline-btn" id="add-point-btn" style="margin-top: 1.5rem;">
              <i class="fas fa-plus" style="margin-right: 0.5rem;"></i> Add Point
            </button>

            <div class="route-form-actions">
              <button type="button" class="route-secondary-btn" id="previous-step1-btn">Back</button>
              <div class="route-spacer"></div>
              <button type="button" class="route-primary-btn" id="save-points-btn">Continue</button>
            </div>
          </div>
        </div>

        <!-- Step 3: Coordinates -->
        <div class="route-step-content hidden" id="step3">
          <div class="route-card">
            <div class="route-card-header">
              <h2>Confirm Coordinates</h2>
            </div>

            <div class="route-coordinates-layout">
              <div class="route-map-container">
                <div class="route-search-container route-map-search-container">
                  <i class="fas fa-search"></i>
                  <input type="text" placeholder="Search on the map">
                </div>
                <div class="route-map-placeholder">
                  <i class="fas fa-map-marker-alt"></i>
                  <div>Map will be displayed here</div>
                  <div class="route-map-point-name" id="current-point-name"></div>
                </div>
              </div>
              <div class="route-points-sidebar">
                <!-- Removed search container from here -->
                <div class="route-points-list" id="coordinates-points-container">
                  <!-- Coordinate cards will be added here -->
                </div>
              </div>
            </div>

            <div class="route-form-actions" style="margin-top: 1.5rem;">
              <button type="button" class="route-secondary-btn" id="previous-step2-btn">Back</button>
              <div class="route-spacer"></div>
              <button type="button" class="route-primary-btn" id="save-preview-btn">Save & Preview</button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </main>

  <!-- Templates -->
  <template id="point-card-template">
    <div class="route-point-card">
      <div class="route-point-header">
        <h3>Point <span class="point-number"></span></h3>
        <button type="button" class="route-remove-point-btn">
          <i class="fas fa-trash"></i>
        </button>
      </div>
      <div class="route-form-group">
        <label class="route-label">Point Name <span class="route-required">*</span></label>
        <input class="route-input point-name" type="text" required>
      </div>
      <div class="route-form-group">
        <label class="route-label">Description <span class="route-required">*</span></label>
        <textarea class="route-textarea point-description" rows="3" required></textarea>
      </div>
      <div class="route-form-group">
        <label class="route-label">Images (optional, max 3)</label>
        <div class="route-point-images-container">
          <div class="route-point-images-preview"></div>
          <button type="button" class="route-add-point-image-btn add-point-image-btn">
            <i class="fas fa-plus"></i>
          </button>
          <input type="file" class="point-image-upload" accept="image/*" multiple style="display: none;">
        </div>
      </div>
    </div>
  </template>

  <template id="coordinate-card-template">
    <div class="route-coordinate-card">
      <div class="route-coordinate-card-header">
        <div class="route-point-image-container">
          <div class="route-point-image-placeholder">
            <i class="fas fa-image"></i>
          </div>
        </div>
        <div class="route-point-info">
          <div class="route-point-label">Point <span class="coordinate-point-number"></span></div>
          <div class="route-point-name-label"></div>
        </div>
      </div>
      <div class="route-coordinate-input-group">
        <input class="route-coordinate-input" type="text" placeholder="Enter coordinates (e.g. 51.5074, -0.1278)">
        <div class="route-coordinate-actions">
          <button class="route-reset-btn">Reset</button>
          <button class="route-confirm-btn">Confirm</button>
        </div>
      </div>
    </div>
  </template>

  <script src="scripts/create-route.js"></script>
  <script src="scripts/currency-converter.js"></script>
  <script src="scripts/user-menu.js"></script>
  <script src="scripts/language-switcher.js"></script>
</body>
</html>
